### Шаг 1: Запуск с использованием `docker-compose.yml`

1. Перейдите в директорию, где находится ваш файл `docker-compose.yml`.

2. Запустите контейнеры (Strapi, база данных и Adminer) с помощью команды:

   ```bash
   docker-compose up -d
   ```

   Это запустит ваши сервисы в фоновом режиме. Убедитесь, что база данных PostgreSQL, Strapi и Adminer запустились успешно.

3. Проверьте статус контейнеров с помощью команды:

   ```bash
   docker-compose ps
   ```

   Она покажет, какие контейнеры запущены и на каких портах.

### Шаг 2: Сборка образа с использованием `Dockerfile.prod`

1. Теперь вам нужно собрать и запустить production-версию образа приложения, используя `Dockerfile.prod`.

2. Выполните команду сборки образа (обязательно убедитесь, что файл `Dockerfile.prod` находится в текущей директории):

   ```bash
   docker build -t strapi-prod -f Dockerfile.prod .
   ```

   Эта команда создаст новый образ с именем `strapi-prod`, используя инструкции из вашего `Dockerfile.prod`.

3. После успешной сборки, запустите новый контейнер на основе этого образа:

   ```bash
   docker run -d -p 1337:1337 strapi-prod
   ```

   Это запустит контейнер с приложением Strapi на порту 1337, используя production-сборку.

### Шаг 3: Проверка

После выполнения этих шагов вы сможете проверить доступность вашего приложения Strapi на порту 1337:

```bash
http://<IP-адрес вашего сервера>:1337
```

Таким образом, вы сначала запускаете все вспомогательные контейнеры (базу данных, Adminer и т.д.) через `docker-compose.yml`, а затем отдельным образом выполняете production-сборку и запуск Strapi с использованием `Dockerfile.prod`.
